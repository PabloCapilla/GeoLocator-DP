{
  "$schema": "https://json-schema.org/draft-07/schema#",
  "title": "Geolocator Data Package",
  "description": "Data exchange format for geolocator data.",
  "type": "object",
  "$defs": {
    "version": {
      "pattern": "1\\.0"
    }
  },
  "allOf": [
    {
      "$ref": "https://datapackage.org/profiles/2.0/datapackage.json"
    },
    {
      "required": [
        "$schema",
        "title",
        "created",
        "contributors",
        "licenses",
        "reference_location",
        "temporal",
        "taxonomic",
        "resources"
      ],
      "properties": {
        "$schema": {
          "description": "See [Data Package specification](https://datapackage.org/standard/data-package/#dollar-schema). GeoLocator DP further requires this to be the URL of the used GeoLocator DP Profile version.",
          "format": "url",
          "example": "https://raw.githubusercontent.com/rafnuss/geolocator-dp/1.0/geolocator-dp-profile.json"
        },
        "name": {
          "description": "A simple name or human-readable identifier (any lowercase alphanumeric characters plus `.`, `-` and `_`). See [Data Package specification](https://datapackage.org/standard/data-package/#name).",
          "example": "mangrove-kingfisher-in-kenya"
        },
        "id": {
          "description": "A globally unique identifier for the package, such as a UUID or DOI. See [Data Package specification](https://datapackage.org/standard/data-package/#id).",
          "skos:exactMatch": "https://vocab.nerc.ac.uk/collection/MVB/current/MVB000172",
          "example": "10.5281/zenodo.11207081"
        },
        "licenses": {
          "description": "The license(s) under which the data is provided. See [Data Package specification](https://datapackage.org/standard/data-package/#licenses).",
          "skos:narrowMatch": "https://vocab.nerc.ac.uk/collection/MVB/current/MVB000257",
          "example": [
            {
              "name": "CC-BY-4.0",
              "title": "Creative Commons Attribution 4.0",
              "path": "https://creativecommons.org/licenses/by/4.0/"
            }
          ]
        },
        "title": {
          "description": "A string providing a title or one sentence description for this package. It should be plain text (no markup), capitalised like a title, NOT end in a period and less than 65 characters. See [Data Package specification](https://datapackage.org/standard/data-package/#title).",
          "skos:exactMatch": "https://vocab.nerc.ac.uk/collection/MVB/current/MVB000172",
          "example": "Woodland Kingfisher Geolocator data"
        },
        "description": {
          "description": "A markdown-formatted string describing the package. You can (and should!) use multiple sentences, but limited to a single paragraph. See [Data Package specification](https://datapackage.org/standard/data-package/#description).",
          "skos:exactMatch": "https://vocab.nerc.ac.uk/collection/MVB/current/MVB000176",
          "example": "This datapackage contains the geolocator data collected on 8 Woodland Kingfishers equipped in South Africa."
        },
        "homepage": {
          "description": "A URL for the home on the web related to this data package. See [Data Package specification](https://datapackage.org/standard/data-package/#homepage).",
          "example": "https://github.com/Rafnuss/WoodlandKingfisher"
        },
        "image": {
          "description": "An image to use for this data package. See [Data Package specification](https://datapackage.org/standard/data-package/#image).",
          "example": "https://raw.githubusercontent.com/Rafnuss/WoodlandKingfisher/main/output/NDVI_animation/077531d34e04506aeb5e3d3066a8e06e-19ff78ccc543bbb66a89d90b1ae3fd17_getPixels.gif"
        },
        "version": {
          "description": "A string identifying the version of the package, following Semantic Versioning. See the [Data Package specification](https://datapackage.org/standard/data-package/#version) and [Data Package Version recipe](https://datapackage.org/recipes/data-package-version/).",
          "example": "v1.2.0"
        },
        "created": {
          "description": "The datetime on which the package was created. See [Data Package specification](https://datapackage.org/standard/data-package/#created).",
          "example": "2024-05-17"
        },
        "keywords": {
          "description": "A list of keywords to help users find the package. See [Data Package specification](https://datapackage.org/standard/data-package/#keywords).",
          "example": ["intra-african", "NDVI", "geopressure"]
        },
        "contributors": {
          "description": "A list of contributors, where each contributor is a list with properties including at least `title` but also optionally `givenName`, `familyName`, `path`, `email`, `roles`, and `organization`. See [Data Package specification](https://datapackage.org/standard/data-package/#contributors). ",
          "type": "array",
          "items": {
            "required": ["title"],
            "properties": {
              "title": {
                "description": "Name of the contributor."
              },
              "role": {
                "description": "Role of the contributor. We strongly suggest having at least `principalInvestigator` and `contact` to match Movebank requirements. Defaults to `contributor`.",
                "enum": [
                  "creator",
                  "contact",
                  "principalInvestigator",
                  "rightsHolder",
                  "dataCurator",
                  "publisher",
                  "contributor"
                ]
              }
            }
          },
          "skos:relatedMatch": [
            "https://vocab.nerc.ac.uk/collection/MVB/current/MVB000072",
            "https://vocab.nerc.ac.uk/collection/MVB/current/MVB000164"
          ],
          "example": [
            {
              "title": "Yann Rime",
              "email": "yann.rime@vogelwarte.ch",
              "roles": ["aut", "contributor"]
            },
            {
              "title": "Raphaël Nussbaumer",
              "email": "raphael.nussbaumer@vogelwarte.ch",
              "roles": ["contact", "creator"]
            }
          ]
        },
        "citation": {
          "description": "Bibliographic/recommended citation for the package.",
          "skos:exactMatch": "https://vocab.nerc.ac.uk/collection/MVB/current/MVB000068",
          "type": "string",
          "example": "Nussbaumer, R., & Rime, Y. (2024). Woodland Kingfisher: Migration route and timing of South African Woodland Kingfisher (v1.1). Zenodo. https://doi.org/10.5281/zenodo.11207141"
        },
        "grants": {
          "description": "A list of grants and other funding sources of the project.",
          "skos:exactMatch": "https://vocab.nerc.ac.uk/collection/MVB/current/MVB000123/",
          "type": "array",
          "items": {
            "type": "string"
          },
          "example": "Hilfsfonds für die Schweizerische Vogelwarte Sempach"
        },
        "reference_location": {
          "description": "The latitude and longitude of the reference location for the study. This is assumed to be the deployment site, if not, specify the location in [`description`](/datapackage/#description).",
          "skos:relatedMatch": "https://purl.org/dc/terms/spatial",
          "type": "object",
          "required": ["latitude", "longitude"],
          "properties": {
            "latitude": {
              "description": "Reference latitude in degree decimal.",
              "type": "number",
              "minimum": -90,
              "maximum": 90,
              "skos:exactMatch": "http://vocab.nerc.ac.uk/collection/MVB/current/MVB000222"
            },
            "longitude": {
              "description": "Reference longitude in degree decimal.",
              "type": "number",
              "minimum": -180,
              "maximum": 180,
              "skos:exactMatch": "http://vocab.nerc.ac.uk/collection/MVB/current/MVB000223"
            }
          },
          "example": {
            "latitude": -13.02,
            "longitude": 151.07
          }
        },
        "temporal": {
          "description": "Temporal coverage of the package. Computed based on [`observations.datetime`](/core/observations#datetime). See [GBIF metadata profile](https://ipt.gbif.org/manual/en/ipt/latest/gbif-metadata-profile#temporal-coverage)",
          "skos:exactMatch": "https://purl.org/dc/terms/temporal",
          "type": "object",
          "required": ["start", "end"],
          "properties": {
            "start": {
              "description": "Start date of the first observation. Formatted as an ISO 8601 string (`YYYY-MM-DD`).",
              "type": "string",
              "format": "date"
            },
            "end": {
              "description": "End date of the last observation. Formatted as an ISO 8601 string (`YYYY-MM-DD`).",
              "type": "string",
              "format": "date"
            }
          },
          "example": {
            "start": "2017-01-10",
            "end": "2019-09-29"
          }
        },
        "taxonomic": {
          "description": "Taxonomic coverage of the package. List of all scientific names of all animals equipped. Computed based on the unique [`tag.scientific_name`](/core/tags/scientific_name). See [GBIF metadata profile](https://ipt.gbif.org/manual/en/ipt/latest/gbif-metadata-profile#taxonomic-coverage)",
          "type": "array",
          "items": {
            "type": "string",
            "description": "Scientific name",
            "skos:exactMatch": "https://vocab.nerc.ac.uk/collection/MVB/current/MVB000024"
          },
          "example": ["Halcyon senegaloides"]
        },
        "relatedIdentifiers": {
          "description": "Identifiers of resources related to the package (e.g. papers, project pages, derived datasets, APIs, etc.). See [Camtrap DP specification](https://camtrap-dp.tdwg.org/metadata/#relatedIdentifiers)",
          "type": "array",
          "items": {
            "description": "Related identifier."
          }
        },
        "references": {
          "description": "List of references related to the package, preferably including DOIs.",
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "resources": {
          "description": "See [Data Package specification](https://datapackage.org/standard/data-resource/). GeoLocator DP further requires each object to be a [Tabular Data Resource](https://datapackage.org/standard/data-resource/#tabular) with a specific `name` and `$schema`.",
          "minItems": 3,
          "items": {
            "oneOf": [
              {
                "required": ["name", "path", "$schema"],
                "properties": {
                  "name": {
                    "description": "Identifier of the resource. See [Data Package specification](https://datapackage.org/standard/data-resource/#name).",
                    "enum": ["tags", "observations", "measurements"]
                  },
                  "type": {
                    "description": "Type of the resource. Only `table` are allowed. See [Data Package specification](https://datapackage.org/standard/data-resource/#type).",
                    "enum": ["table"]
                  },
                  "path": {
                    "description": "Path or URL to the data file. See [Data Package specification](https://datapackage.org/standard/data-resource/#path)."
                  },
                  "$schema": {
                    "description": "URL of the used GeoLocator DP Table Schema version. See [Data Package specification](https://datapackage.org/standard/data-resource/#dollar-schema).",
                    "allOf": [
                      {
                        "$ref": "#$defs/version"
                      },
                      {
                        "type": "string",
                        "format": "uri"
                      }
                    ]
                  }
                }
              }
            ]
          }
        }
      }
    }
  ]
}
